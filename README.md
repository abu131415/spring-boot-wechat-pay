该功能开发完全是根据微信官方文档说明进行开发，官方文档地址

https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=6_5

这边采用的是模式2进行开发。

代码中的一些流程的详细讲解可以看我写的博客：

https://www.cnblogs.com/qdhxhz/p/9708534.html

